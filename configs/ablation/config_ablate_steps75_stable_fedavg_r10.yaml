# configs/ablation/config_ablate_steps75_stable_fedavg_r10.yaml
# Ablation: increase local training (max_steps=75) with stabilizers.

simulation_name: "ABL_LoRA16_FedAvg_Orig_R10_Steps75_Stable"
dataset_name: "edge_ransomware"
description: "Ablation: FedAvg origlike, LR=3e-4, LoRA r=16, rounds=10, max_steps=75 + warmup/clipping"

data_base_path: "./data/ids_ransomware/"
results_path: "./results/"

session_window_spliter: " ;-; "
force_reprocess_data: false
benign_train_fraction: 0.8
content_mode: "raw"

model_name: "HuggingFaceTB/SmolLM-135M"
lora: True
lora_rank: 16
lora_alpha_multiplier: 4
lora_dropout: 0.1

use_parallel_training: false
num_rounds: 10
num_clients: 50
client_frac: 0.2

data_distribution_strategy: "hetero_device"
non_iid_alpha: 0.5

client_selection_strategy: "data_size_proportional"
use_weighted_aggregation: true

fedprox_mu: 0.0

max_steps: 75
batch_size: 4
gradient_accumulation_steps: 16
initial_lr: 0.0003
min_lr: 0.00001
lr_scheduler_type: "cosine"

warmup_ratio: 0.05
max_grad_norm: 1.0

top_k_values: [1, 3, 5, 10]
f1_threshold_steps: 1000
enable_temporal_metrics: false

threshold_selection: "f1_max"
evaluator_version: "new"
accuracy_method: "original"
